{"ast":null,"code":"import React,{useState,useContext}from'react';import Card from'../../shared/components/UIElements/Card';import Button from'../../shared/components/FormElements/Button';import Modal from'../../shared/components/UIElements/Modal';import Map from'../../shared/components/UIElements/Map';import ErrorModal from'../../shared/components/UIElements/ErrorModal';import LoadingSpinner from'../../shared/components/UIElements/LoadingSpinner';import{AuthContext}from'../../shared/context/auth-context';import{useHttpClient}from'../../shared/hooks/http-hook';import'./PlaceItem.css';const PlaceItem=props=>{const{isLoading,error,sendRequest,clearError}=useHttpClient();const auth=useContext(AuthContext);const[showMap,setShowMap]=useState(false);const[showConfirmModal,setShowConfirmModal]=useState(false);const openMapHandler=()=>setShowMap(true);const closeMapHandler=()=>setShowMap(false);const showDeleteWarningHandler=()=>{setShowConfirmModal(true);};const cancelDeleteHandler=()=>{setShowConfirmModal(false);};const confirmDeleteHandler=async()=>{setShowConfirmModal(false);try{await sendRequest(`http://localhost:5000/api/places/${props.id}`,'DELETE');props.onDelete(props.id);}catch(err){}};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ErrorModal,{error:error,onClear:clearError}),/*#__PURE__*/React.createElement(Modal,{show:showMap,onCancel:closeMapHandler,header:props.address,contentClass:\"place-item__modal-content\",footerClass:\"place-item__modal-actions\",footer:/*#__PURE__*/React.createElement(Button,{onClick:closeMapHandler},\"CLOSE\")},/*#__PURE__*/React.createElement(\"div\",{className:\"map-container\"},/*#__PURE__*/React.createElement(Map,{center:props.coordinates,zoom:16}))),/*#__PURE__*/React.createElement(Modal,{show:showConfirmModal,onCancel:cancelDeleteHandler,header:\"Are you sure?\",footerClass:\"place-item__modal-actions\",footer:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{inverse:true,onClick:cancelDeleteHandler},\"CANCEL\"),/*#__PURE__*/React.createElement(Button,{danger:true,onClick:confirmDeleteHandler},\"DELETE\"))},/*#__PURE__*/React.createElement(\"p\",null,\"Do you want to proceed and delete this place? Please note that it can't be undone thereafter.\")),/*#__PURE__*/React.createElement(\"li\",{className:\"place-item\"},/*#__PURE__*/React.createElement(Card,{className:\"place-item__content\"},isLoading&&/*#__PURE__*/React.createElement(LoadingSpinner,{asOverlay:true}),/*#__PURE__*/React.createElement(\"div\",{className:\"place-item__image\"},/*#__PURE__*/React.createElement(\"img\",{src:props.image,alt:props.title})),/*#__PURE__*/React.createElement(\"div\",{className:\"place-item__info\"},/*#__PURE__*/React.createElement(\"h2\",null,props.title),/*#__PURE__*/React.createElement(\"h3\",null,props.address),/*#__PURE__*/React.createElement(\"p\",null,props.description)),/*#__PURE__*/React.createElement(\"div\",{className:\"place-item__actions\"},/*#__PURE__*/React.createElement(Button,{inverse:true,onClick:openMapHandler},\"VIEW ON MAP\"),auth.userId===props.creatorId&&/*#__PURE__*/React.createElement(Button,{to:`/places/${props.id}`},\"EDIT\"),auth.userId===props.creatorId&&/*#__PURE__*/React.createElement(Button,{danger:true,onClick:showDeleteWarningHandler},\"DELETE\")))));};export default PlaceItem;","map":{"version":3,"names":["React","useState","useContext","Card","Button","Modal","Map","ErrorModal","LoadingSpinner","AuthContext","useHttpClient","PlaceItem","props","isLoading","error","sendRequest","clearError","auth","showMap","setShowMap","showConfirmModal","setShowConfirmModal","openMapHandler","closeMapHandler","showDeleteWarningHandler","cancelDeleteHandler","confirmDeleteHandler","id","onDelete","err","createElement","Fragment","onClear","show","onCancel","header","address","contentClass","footerClass","footer","onClick","className","center","coordinates","zoom","inverse","danger","asOverlay","src","image","alt","title","description","userId","creatorId","to"],"sources":["C:/Users/HP/Desktop/React/mern-project/frontend/src/places/components/PlaceItem.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\n\nimport Card from '../../shared/components/UIElements/Card';\nimport Button from '../../shared/components/FormElements/Button';\nimport Modal from '../../shared/components/UIElements/Modal';\nimport Map from '../../shared/components/UIElements/Map';\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\nimport { AuthContext } from '../../shared/context/auth-context';\nimport { useHttpClient } from '../../shared/hooks/http-hook';\nimport './PlaceItem.css';\n\nconst PlaceItem = props => {\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\n  const auth = useContext(AuthContext);\n  const [showMap, setShowMap] = useState(false);\n  const [showConfirmModal, setShowConfirmModal] = useState(false);\n\n  const openMapHandler = () => setShowMap(true);\n\n  const closeMapHandler = () => setShowMap(false);\n\n  const showDeleteWarningHandler = () => {\n    setShowConfirmModal(true);\n  };\n\n  const cancelDeleteHandler = () => {\n    setShowConfirmModal(false);\n  };\n\n  const confirmDeleteHandler = async () => {\n    setShowConfirmModal(false);\n    try {\n      await sendRequest(\n        `http://localhost:5000/api/places/${props.id}`,\n        'DELETE'\n      );\n      props.onDelete(props.id);\n    } catch (err) {}\n  };\n\n  return (\n    <React.Fragment>\n      <ErrorModal error={error} onClear={clearError} />\n      <Modal\n        show={showMap}\n        onCancel={closeMapHandler}\n        header={props.address}\n        contentClass=\"place-item__modal-content\"\n        footerClass=\"place-item__modal-actions\"\n        footer={<Button onClick={closeMapHandler}>CLOSE</Button>}\n      >\n        <div className=\"map-container\">\n          <Map center={props.coordinates} zoom={16} />\n        </div>\n      </Modal>\n      <Modal\n        show={showConfirmModal}\n        onCancel={cancelDeleteHandler}\n        header=\"Are you sure?\"\n        footerClass=\"place-item__modal-actions\"\n        footer={\n          <React.Fragment>\n            <Button inverse onClick={cancelDeleteHandler}>\n              CANCEL\n            </Button>\n            <Button danger onClick={confirmDeleteHandler}>\n              DELETE\n            </Button>\n          </React.Fragment>\n        }\n      >\n        <p>\n          Do you want to proceed and delete this place? Please note that it\n          can't be undone thereafter.\n        </p>\n      </Modal>\n      <li className=\"place-item\">\n        <Card className=\"place-item__content\">\n          {isLoading && <LoadingSpinner asOverlay />}\n          <div className=\"place-item__image\">\n            <img src={props.image} alt={props.title} />\n          </div>\n          <div className=\"place-item__info\">\n            <h2>{props.title}</h2>\n            <h3>{props.address}</h3>\n            <p>{props.description}</p>\n          </div>\n          <div className=\"place-item__actions\">\n            <Button inverse onClick={openMapHandler}>\n              VIEW ON MAP\n            </Button>\n            {auth.userId === props.creatorId && (\n              <Button to={`/places/${props.id}`}>EDIT</Button>\n            )}\n\n            {auth.userId === props.creatorId && (\n              <Button danger onClick={showDeleteWarningHandler}>\n                DELETE\n              </Button>\n            )}\n          </div>\n        </Card>\n      </li>\n    </React.Fragment>\n  );\n};\n\nexport default PlaceItem;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CAEnD,MAAO,CAAAC,IAAI,KAAM,yCAAyC,CAC1D,MAAO,CAAAC,MAAM,KAAM,6CAA6C,CAChE,MAAO,CAAAC,KAAK,KAAM,0CAA0C,CAC5D,MAAO,CAAAC,GAAG,KAAM,wCAAwC,CACxD,MAAO,CAAAC,UAAU,KAAM,+CAA+C,CACtE,MAAO,CAAAC,cAAc,KAAM,mDAAmD,CAC9E,OAASC,WAAW,KAAQ,mCAAmC,CAC/D,OAASC,aAAa,KAAQ,8BAA8B,CAC5D,MAAO,iBAAiB,CAExB,KAAM,CAAAC,SAAS,CAAGC,KAAK,EAAI,CACzB,KAAM,CAAEC,SAAS,CAAEC,KAAK,CAAEC,WAAW,CAAEC,UAAW,CAAC,CAAGN,aAAa,CAAC,CAAC,CACrE,KAAM,CAAAO,IAAI,CAAGf,UAAU,CAACO,WAAW,CAAC,CACpC,KAAM,CAACS,OAAO,CAAEC,UAAU,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACmB,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGpB,QAAQ,CAAC,KAAK,CAAC,CAE/D,KAAM,CAAAqB,cAAc,CAAGA,CAAA,GAAMH,UAAU,CAAC,IAAI,CAAC,CAE7C,KAAM,CAAAI,eAAe,CAAGA,CAAA,GAAMJ,UAAU,CAAC,KAAK,CAAC,CAE/C,KAAM,CAAAK,wBAAwB,CAAGA,CAAA,GAAM,CACrCH,mBAAmB,CAAC,IAAI,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAI,mBAAmB,CAAGA,CAAA,GAAM,CAChCJ,mBAAmB,CAAC,KAAK,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAK,oBAAoB,CAAG,KAAAA,CAAA,GAAY,CACvCL,mBAAmB,CAAC,KAAK,CAAC,CAC1B,GAAI,CACF,KAAM,CAAAN,WAAW,CACf,oCAAoCH,KAAK,CAACe,EAAE,EAAE,CAC9C,QACF,CAAC,CACDf,KAAK,CAACgB,QAAQ,CAAChB,KAAK,CAACe,EAAE,CAAC,CAC1B,CAAE,MAAOE,GAAG,CAAE,CAAC,CACjB,CAAC,CAED,mBACE7B,KAAA,CAAA8B,aAAA,CAAC9B,KAAK,CAAC+B,QAAQ,mBACb/B,KAAA,CAAA8B,aAAA,CAACvB,UAAU,EAACO,KAAK,CAAEA,KAAM,CAACkB,OAAO,CAAEhB,UAAW,CAAE,CAAC,cACjDhB,KAAA,CAAA8B,aAAA,CAACzB,KAAK,EACJ4B,IAAI,CAAEf,OAAQ,CACdgB,QAAQ,CAAEX,eAAgB,CAC1BY,MAAM,CAAEvB,KAAK,CAACwB,OAAQ,CACtBC,YAAY,CAAC,2BAA2B,CACxCC,WAAW,CAAC,2BAA2B,CACvCC,MAAM,cAAEvC,KAAA,CAAA8B,aAAA,CAAC1B,MAAM,EAACoC,OAAO,CAAEjB,eAAgB,EAAC,OAAa,CAAE,eAEzDvB,KAAA,CAAA8B,aAAA,QAAKW,SAAS,CAAC,eAAe,eAC5BzC,KAAA,CAAA8B,aAAA,CAACxB,GAAG,EAACoC,MAAM,CAAE9B,KAAK,CAAC+B,WAAY,CAACC,IAAI,CAAE,EAAG,CAAE,CACxC,CACA,CAAC,cACR5C,KAAA,CAAA8B,aAAA,CAACzB,KAAK,EACJ4B,IAAI,CAAEb,gBAAiB,CACvBc,QAAQ,CAAET,mBAAoB,CAC9BU,MAAM,CAAC,eAAe,CACtBG,WAAW,CAAC,2BAA2B,CACvCC,MAAM,cACJvC,KAAA,CAAA8B,aAAA,CAAC9B,KAAK,CAAC+B,QAAQ,mBACb/B,KAAA,CAAA8B,aAAA,CAAC1B,MAAM,EAACyC,OAAO,MAACL,OAAO,CAAEf,mBAAoB,EAAC,QAEtC,CAAC,cACTzB,KAAA,CAAA8B,aAAA,CAAC1B,MAAM,EAAC0C,MAAM,MAACN,OAAO,CAAEd,oBAAqB,EAAC,QAEtC,CACM,CACjB,eAED1B,KAAA,CAAA8B,aAAA,UAAG,+FAGA,CACE,CAAC,cACR9B,KAAA,CAAA8B,aAAA,OAAIW,SAAS,CAAC,YAAY,eACxBzC,KAAA,CAAA8B,aAAA,CAAC3B,IAAI,EAACsC,SAAS,CAAC,qBAAqB,EAClC5B,SAAS,eAAIb,KAAA,CAAA8B,aAAA,CAACtB,cAAc,EAACuC,SAAS,MAAE,CAAC,cAC1C/C,KAAA,CAAA8B,aAAA,QAAKW,SAAS,CAAC,mBAAmB,eAChCzC,KAAA,CAAA8B,aAAA,QAAKkB,GAAG,CAAEpC,KAAK,CAACqC,KAAM,CAACC,GAAG,CAAEtC,KAAK,CAACuC,KAAM,CAAE,CACvC,CAAC,cACNnD,KAAA,CAAA8B,aAAA,QAAKW,SAAS,CAAC,kBAAkB,eAC/BzC,KAAA,CAAA8B,aAAA,WAAKlB,KAAK,CAACuC,KAAU,CAAC,cACtBnD,KAAA,CAAA8B,aAAA,WAAKlB,KAAK,CAACwB,OAAY,CAAC,cACxBpC,KAAA,CAAA8B,aAAA,UAAIlB,KAAK,CAACwC,WAAe,CACtB,CAAC,cACNpD,KAAA,CAAA8B,aAAA,QAAKW,SAAS,CAAC,qBAAqB,eAClCzC,KAAA,CAAA8B,aAAA,CAAC1B,MAAM,EAACyC,OAAO,MAACL,OAAO,CAAElB,cAAe,EAAC,aAEjC,CAAC,CACRL,IAAI,CAACoC,MAAM,GAAKzC,KAAK,CAAC0C,SAAS,eAC9BtD,KAAA,CAAA8B,aAAA,CAAC1B,MAAM,EAACmD,EAAE,CAAE,WAAW3C,KAAK,CAACe,EAAE,EAAG,EAAC,MAAY,CAChD,CAEAV,IAAI,CAACoC,MAAM,GAAKzC,KAAK,CAAC0C,SAAS,eAC9BtD,KAAA,CAAA8B,aAAA,CAAC1B,MAAM,EAAC0C,MAAM,MAACN,OAAO,CAAEhB,wBAAyB,EAAC,QAE1C,CAEP,CACD,CACJ,CACU,CAAC,CAErB,CAAC,CAED,cAAe,CAAAb,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module"}