{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import PlaceList from'../components/PlaceList';import ErrorModal from'../../shared/components/UIElements/ErrorModal';import LoadingSpinner from'../../shared/components/UIElements/LoadingSpinner';import{useHttpClient}from'../../shared/hooks/http-hook';const UserPlaces=()=>{const[loadedPlaces,setLoadedPlaces]=useState();const{isLoading,error,sendRequest,clearError}=useHttpClient();const userId=useParams().userId;useEffect(()=>{const fetchPlaces=async()=>{try{const responseData=await sendRequest(`http://localhost:5000/api/places/user/${userId}`);setLoadedPlaces(responseData.places);}catch(err){}};fetchPlaces();},[sendRequest,userId]);const placeDeletedHandler=deletedPlaceId=>{setLoadedPlaces(prevPlaces=>prevPlaces.filter(place=>place.id!==deletedPlaceId));};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ErrorModal,{error:error,onClear:clearError}),isLoading&&/*#__PURE__*/React.createElement(\"div\",{className:\"center\"},/*#__PURE__*/React.createElement(LoadingSpinner,null)),!isLoading&&loadedPlaces&&/*#__PURE__*/React.createElement(PlaceList,{items:loadedPlaces,onDeletePlace:placeDeletedHandler}));};export default UserPlaces;","map":{"version":3,"names":["React","useEffect","useState","useParams","PlaceList","ErrorModal","LoadingSpinner","useHttpClient","UserPlaces","loadedPlaces","setLoadedPlaces","isLoading","error","sendRequest","clearError","userId","fetchPlaces","responseData","places","err","placeDeletedHandler","deletedPlaceId","prevPlaces","filter","place","id","createElement","Fragment","onClear","className","items","onDeletePlace"],"sources":["C:/Users/HP/Desktop/React/mern-project/frontend/src/places/pages/UserPlaces.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport PlaceList from '../components/PlaceList';\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\nimport { useHttpClient } from '../../shared/hooks/http-hook';\n\nconst UserPlaces = () => {\n  const [loadedPlaces, setLoadedPlaces] = useState();\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\n\n  const userId = useParams().userId;\n\n  useEffect(() => {\n    const fetchPlaces = async () => {\n      try {\n        const responseData = await sendRequest(\n          `http://localhost:5000/api/places/user/${userId}`\n        );\n        setLoadedPlaces(responseData.places);\n      } catch (err) {}\n    };\n    fetchPlaces();\n  }, [sendRequest, userId]);\n\n  const placeDeletedHandler = deletedPlaceId => {\n    setLoadedPlaces(prevPlaces =>\n      prevPlaces.filter(place => place.id !== deletedPlaceId)\n    );\n  };\n\n  return (\n    <React.Fragment>\n      <ErrorModal error={error} onClear={clearError} />\n      {isLoading && (\n        <div className=\"center\">\n          <LoadingSpinner />\n        </div>\n      )}\n      {!isLoading && loadedPlaces && (\n        <PlaceList items={loadedPlaces} onDeletePlace={placeDeletedHandler} />\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default UserPlaces;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,kBAAkB,CAE5C,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,MAAO,CAAAC,UAAU,KAAM,+CAA+C,CACtE,MAAO,CAAAC,cAAc,KAAM,mDAAmD,CAC9E,OAASC,aAAa,KAAQ,8BAA8B,CAE5D,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGR,QAAQ,CAAC,CAAC,CAClD,KAAM,CAAES,SAAS,CAAEC,KAAK,CAAEC,WAAW,CAAEC,UAAW,CAAC,CAAGP,aAAa,CAAC,CAAC,CAErE,KAAM,CAAAQ,MAAM,CAAGZ,SAAS,CAAC,CAAC,CAACY,MAAM,CAEjCd,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACF,KAAM,CAAAC,YAAY,CAAG,KAAM,CAAAJ,WAAW,CACpC,yCAAyCE,MAAM,EACjD,CAAC,CACDL,eAAe,CAACO,YAAY,CAACC,MAAM,CAAC,CACtC,CAAE,MAAOC,GAAG,CAAE,CAAC,CACjB,CAAC,CACDH,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,CAACH,WAAW,CAAEE,MAAM,CAAC,CAAC,CAEzB,KAAM,CAAAK,mBAAmB,CAAGC,cAAc,EAAI,CAC5CX,eAAe,CAACY,UAAU,EACxBA,UAAU,CAACC,MAAM,CAACC,KAAK,EAAIA,KAAK,CAACC,EAAE,GAAKJ,cAAc,CACxD,CAAC,CACH,CAAC,CAED,mBACErB,KAAA,CAAA0B,aAAA,CAAC1B,KAAK,CAAC2B,QAAQ,mBACb3B,KAAA,CAAA0B,aAAA,CAACrB,UAAU,EAACO,KAAK,CAAEA,KAAM,CAACgB,OAAO,CAAEd,UAAW,CAAE,CAAC,CAChDH,SAAS,eACRX,KAAA,CAAA0B,aAAA,QAAKG,SAAS,CAAC,QAAQ,eACrB7B,KAAA,CAAA0B,aAAA,CAACpB,cAAc,KAAE,CACd,CACN,CACA,CAACK,SAAS,EAAIF,YAAY,eACzBT,KAAA,CAAA0B,aAAA,CAACtB,SAAS,EAAC0B,KAAK,CAAErB,YAAa,CAACsB,aAAa,CAAEX,mBAAoB,CAAE,CAEzD,CAAC,CAErB,CAAC,CAED,cAAe,CAAAZ,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module"}